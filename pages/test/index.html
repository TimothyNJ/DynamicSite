<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Wheel Selector Test</title>
    <link rel="stylesheet" href="../../dist/bundle.css">
    <style>
        body {
            padding: 40px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        
        .test-container {
            max-width: 600px;
            margin: 0 auto;
        }
        
        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }
        
        .test-section h2 {
            margin-top: 0;
        }
        
        .wheel-container {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        
        .result {
            margin-top: 20px;
            padding: 10px;
            background: #f5f5f5;
            border-radius: 4px;
            font-family: monospace;
        }
    </style>
</head>
<body data-theme="dark">
    <div class="test-container">
        <h1>3D Wheel Selector Test</h1>
        
        <div class="test-section">
            <h2>Days of Week</h2>
            <div id="days-wheel" class="wheel-container"></div>
            <div id="days-result" class="result">Selected: <span>Monday</span></div>
        </div>
        
        <div class="test-section">
            <h2>Numbers (1-100)</h2>
            <div id="numbers-wheel" class="wheel-container"></div>
            <div id="numbers-result" class="result">Selected: <span>50</span></div>
        </div>
        
        <div class="test-section">
            <h2>Time Format</h2>
            <div id="time-wheel" class="wheel-container"></div>
            <div id="time-result" class="result">Selected: <span>24-hour</span></div>
        </div>
        
        <div class="test-section">
            <h2>Theme Toggle</h2>
            <button id="theme-toggle">Toggle Theme</button>
        </div>
    </div>
    
    <script src="../../dist/bundle.js"></script>
    <script type="module">
        // Wait for bundle to load
        setTimeout(() => {
            // Access the component factory from the global scope
            const factory = window.ComponentFactory;
            
            if (!factory) {
                console.error('ComponentFactory not found in global scope');
                return;
            }
            
            // Days of week wheel
            const daysWheel = factory.create('wheel_selector', {
                options: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
                defaultValue: 'Monday',
                onChange: (value) => {
                    document.querySelector('#days-result span').textContent = value;
                    console.log('Days wheel changed:', value);
                }
            });
            daysWheel.render('days-wheel');
            
            // Numbers wheel
            const numberOptions = Array.from({length: 100}, (_, i) => i + 1);
            const numbersWheel = factory.create('wheel_selector', {
                options: numberOptions,
                defaultValue: 50,
                onChange: (value) => {
                    document.querySelector('#numbers-result span').textContent = value;
                    console.log('Numbers wheel changed:', value);
                }
            });
            numbersWheel.render('numbers-wheel');
            
            // Time format wheel
            const timeWheel = factory.create('wheel_selector', {
                options: ['12-hour', '24-hour'],
                defaultValue: '24-hour',
                onChange: (value) => {
                    document.querySelector('#time-result span').textContent = value;
                    console.log('Time wheel changed:', value);
                }
            });
            timeWheel.render('time-wheel');
            
            // Theme toggle
            document.getElementById('theme-toggle').addEventListener('click', () => {
                const currentTheme = document.body.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                document.body.setAttribute('data-theme', newTheme);
            });
            
            console.log('3D Wheel Selector test page initialized');
        }, 100);
    </script>
</body>
</html>
