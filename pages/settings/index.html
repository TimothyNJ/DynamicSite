<div class="settings-container">
  <!-- Test Engine Sliders Section -->
  <div class="settings-section">
    <h2>Test Engine Sliders [Deployment: 20250522124641]</h2>
    
    <!-- Test1: Engine Theme Selector -->
    <div id="test1-container">
      <!-- slider_component_engine will inject theme selector here -->
    </div>
    
    <!-- Test2: Engine Time Format Selector -->
    <div id="test2-container">
      <!-- slider_component_engine will inject time format selector here -->
    </div>
  </div>

  <!-- Original Main Branch Sliders Section -->
  <div class="settings-section">
    <h2>Original Main Branch Sliders</h2>
    
    <!-- Time Format Selector -->
    <div class="slider-container time-format-container">
      <div class="slider-selector time-format-selector">
        <div class="border-container">
          <div class="border-segment border-top"></div>
          <div class="border-segment border-bottom"></div>
        </div>
        <div class="selector-background"></div>
        <div
          class="option"
          data-position="1"
          data-format="24"
          data-value="24"
        >
          <h3>24h</h3>
        </div>
        <div
          class="option"
          data-position="2"
          data-format="system"
          data-value="system"
        >
          <h3>System</h3>
        </div>
        <div
          class="option active"
          data-position="3"
          data-format="12"
          data-value="12"
        >
          <h3>12h</h3>
        </div>
      </div>
    </div>

    <!-- Theme Selector -->
    <div class="slider-container theme-container">
      <div class="slider-selector theme-selector">
        <div class="border-container">
          <div class="border-segment border-top"></div>
          <div class="border-segment border-bottom"></div>
        </div>
        <div class="selector-background"></div>
        <div
          class="option active"
          data-position="1"
          data-theme="dark"
          data-value="dark"
        >
          <h3>Dark</h3>
        </div>
        <div
          class="option"
          data-position="2"
          data-theme="system"
          data-value="system"
        >
          <h3>System</h3>
        </div>
        <div
          class="option"
          data-position="3"
          data-theme="light"
          data-value="light"
        >
          <h3>Light</h3>
        </div>
      </div>
    </div>
  </div>

  <!-- Dynamic selectors section -->
  <div id="dynamic-selectors">
    <!-- This section will be populated by the SelectorManager -->
  </div>

  <!-- Dynamic inputs section -->
  <div id="dynamic-inputs">
    <!-- This section will be populated by the InputManager -->
  </div>

  <!-- Fallback inputs (visible until dynamic inputs are loaded) -->
  <div id="original-inputs" style="display: block">
    <div class="settings-section">
      <div class="form-container">
        <div class="form-field">
          <input
            type="text"
            id="first-name"
            class="text-input"
            placeholder="Enter first name"
          />
        </div>
        <div class="form-field">
          <input
            type="text"
            id="last-name"
            class="text-input"
            placeholder="Enter last name"
          />
        </div>
        <div class="form-field">
          <input
            type="text"
            id="nickname"
            class="text-input"
            placeholder="Enter nickname (optional)"
          />
        </div>
      </div>
    </div>
  </div>

  <!-- Load engine files and initialize test sliders -->
  <script src="/js/engines/slider_component_engine.js"></script>
  <script src="/js/factory/ComponentFactory.js"></script>
  <script>
    console.log('[Test Implementation] Loading engine files [Deployment: 20250522124641]');
    
    // Simple delayed initialization to ensure all scripts loaded
    setTimeout(function() {
      console.log('[Test Implementation] Starting delayed initialization...');
      
      // Check availability
      console.log('ComponentFactory available:', typeof window.ComponentFactory !== 'undefined');
      console.log('slider_component_engine available:', typeof window.slider_component_engine !== 'undefined');
      
      if (window.ComponentFactory && window.slider_component_engine) {
        console.log('[Test Implementation] Both engine components available');
        
        // Test creating a theme selector manually
        console.log('[Test Implementation] Testing direct theme selector creation...');
        
        try {
          // Create a simple configuration test
          const testConfig = {
            containerId: 'test1-container',
            sliderClass: 'test-theme-selector',
            options: [
              { text: 'Dark', value: 'dark', position: 1, dataAttributes: 'data-theme="dark"', active: true },
              { text: 'System', value: 'system', position: 2, dataAttributes: 'data-theme="system"' },
              { text: 'Light', value: 'light', position: 3, dataAttributes: 'data-theme="light"' }
            ]
          };
          
          const testHandler = function(option) {
            console.log('Test handler called with:', option.textContent);
          };
          
          // Try to create slider directly with engine
          console.log('[Test Implementation] Creating slider with engine...');
          const engine = new window.slider_component_engine(testConfig, testHandler);
          const result = engine.init();
          console.log('[Test Implementation] Engine init result:', result);
          
        } catch (error) {
          console.error('[Test Implementation] Error in direct engine test:', error.message, error.stack);
        }
      } else {
        console.error('[Test Implementation] Required components not available');
        console.log('ComponentFactory:', window.ComponentFactory);
        console.log('slider_component_engine:', window.slider_component_engine);
      }
      
    }, 1000); // 1 second delay to ensure everything loads
    
  </script>

  <!-- Add scripts to populate dynamic components -->
  <script>
    // Initialize dynamic selectors when available
    function initDynamicSelectors() {
      if (
        window.SelectorManager &&
        typeof window.SelectorManager.generateHTML === "function"
      ) {
        const container = document.getElementById("dynamic-selectors");
        if (container) {
          container.innerHTML = window.SelectorManager.generateHTML();

          // Hide original selectors if dynamic ones are created
          const originalContainer =
            document.getElementById("original-selectors");
          if (originalContainer) {
            originalContainer.style.display = "none";
          }
        }
      }
    }

    // Initialize dynamic inputs when available
    function initDynamicInputs() {
      if (
        window.InputManager &&
        typeof window.InputManager.generateHTML === "function"
      ) {
        const container = document.getElementById("dynamic-inputs");
        if (container) {
          container.innerHTML = window.InputManager.generateHTML();

          // Hide original inputs if dynamic ones are created
          const originalContainer = document.getElementById("original-inputs");
          if (originalContainer) {
            originalContainer.style.display = "none";
          }
        }
      }
    }

    // Try to init now, and also add a delayed attempt
    initDynamicSelectors();
    initDynamicInputs();

    setTimeout(() => {
      initDynamicSelectors();
      initDynamicInputs();
    }, 500);
  </script>
</div>
