<div class="settings-container">
  <h1>User Settings</h1>
  
  <!-- Personal Info Section -->
  <div class="settings-section">
    <h2>Personal Information</h2>
    <div class="settings-grid">
      <div id="first-name-container"></div>
      <div id="last-name-container"></div>
      <div id="nickname-container"></div>
    </div>
  </div>

  <!-- Appearance & Language Section -->
  <div class="settings-section">
    <h2>Appearance & Language</h2>
    <div class="settings-grid">
      <div id="theme-selector-container"></div>
      <div id="language-selector-container"></div>
    </div>
  </div>

  <!-- Time & Date Section -->
  <div class="settings-section">
    <h2>Time & Date</h2>
    <div class="settings-grid">
      <div id="timezone-selector-container"></div>
      <div id="first-day-selector-container"></div>
      <div id="date-format-selector-container"></div>
      <div id="time-format-selector-container"></div>
    </div>
  </div>

  <!-- Work Hours Section -->
  <div class="settings-section">
    <h2>Work Hours</h2>
    <div class="settings-grid">
      <div id="morning-hours-container"></div>
      <div id="afternoon-hours-container"></div>
    </div>
  </div>

  <!-- Units & Currency Section -->
  <div class="settings-section">
    <h2>Units & Currency</h2>
    <div class="settings-grid">
      <div id="currency-selector-container"></div>
      <div id="units-selector-container"></div>
    </div>
  </div>

  <!-- Contact Info Section -->
  <div class="settings-section">
    <h2>Contact Information</h2>
    <div class="settings-grid">
      <div id="email-container"></div>
      <div id="phone-container"></div>
    </div>
  </div>

  <!-- Notifications Section -->
  <div class="settings-section">
    <h2>Notifications</h2>
    <div id="notification-preferences-container"></div>
  </div>

  <!-- Profile Section -->
  <div class="settings-section">
    <h2>Profile</h2>
    <div class="settings-grid">
      <div id="profile-picture-container"></div>
      <div id="birthdate-container"></div>
    </div>
  </div>

  <!-- Actions Section -->
  <div class="settings-section actions-section">
    <div id="save-button-container"></div>
    <div id="cancel-button-container"></div>
  </div>

  <!-- Component initialization script - No bundle loading needed in SPA -->
  <script>
    console.log('[Settings Page] Starting initialization [Deployment: 20250525193900]');
    
    // Initialize all settings components
    // This function will be called by the SPA router after page load
    function initializeSettingsComponents() {
      if (!window.componentFactory) {
        console.error('[Settings Page] ComponentFactory not available');
        return;
      }
      
      console.log('[Settings Page] Initializing all components...');
      
      try {
        // Personal Info
        componentFactory.createFirstNameInput('first-name-container');
        componentFactory.createLastNameInput('last-name-container');
        componentFactory.createNicknameInput('nickname-container');
        
        // Appearance & Language
        componentFactory.createThemeSelector('theme-selector-container');
        componentFactory.createLanguageSelector('language-selector-container');
        
        // Time & Date
        componentFactory.createTimezoneSelector('timezone-selector-container');
        componentFactory.createFirstDayOfWeekSelector('first-day-selector-container');
        componentFactory.createDateFormatSelector('date-format-selector-container');
        componentFactory.createTimeFormatSelector('time-format-selector-container');
        
        // Work Hours
        componentFactory.createMorningHoursSelector('morning-hours-container');
        componentFactory.createAfternoonHoursSelector('afternoon-hours-container');
        
        // Units & Currency
        componentFactory.createCurrencySelector('currency-selector-container');
        
        // Units selector - create a wheel selector for metric/imperial
        componentFactory.createWheelSelector('units-selector-container', {
          id: 'units-selector',
          label: 'Units of Measurement',
          options: [
            { value: 'metric', text: 'Metric' },
            { value: 'imperial', text: 'Imperial' }
          ],
          defaultValue: 'metric',
          storageKey: 'userUnitsPreference',
          onChange: (value) => {
            console.log('[Settings] Units selected:', value);
          }
        });
        
        // Contact Info
        componentFactory.createEmailInput('email-container');
        componentFactory.createPhoneInput('phone-container');
        
        // Notifications
        componentFactory.createNotificationPreferences('notification-preferences-container');
        
        // Profile
        componentFactory.createProfilePictureUpload('profile-picture-container', (files) => {
          console.log('[Settings] Profile picture selected:', files);
        });
        componentFactory.createBirthdatePicker('birthdate-container');
        
        // Action Buttons
        componentFactory.createSaveButton('save-button-container', () => {
          console.log('[Settings] Save clicked - would save all settings');
          // Here you would collect all values and save them
        });
        
        componentFactory.createCancelButton('cancel-button-container', () => {
          console.log('[Settings] Cancel clicked - would revert changes');
          // Here you would revert any unsaved changes
        });
        
        console.log('[Settings Page] All components initialized successfully');
        
      } catch (error) {
        console.error('[Settings Page] Error initializing components:', error);
      }
    }
    
    // Make the function globally available for the router to call
    window.initializeSettingsComponents = initializeSettingsComponents;
    
    // Try to initialize immediately if factory is already available
    // This handles the case where the page loads after the bundle
    if (window.componentFactory) {
      console.log('[Settings Page] ComponentFactory already available, initializing now');
      initializeSettingsComponents();
    }
  </script>

  <style>
    .settings-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    .settings-container h1 {
      font-size: 32px;
      margin-bottom: 40px;
      color: #ffffff;
    }
    
    .settings-section {
      margin-bottom: 40px;
      padding: 24px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
    }
    
    .settings-section h2 {
      font-size: 20px;
      margin-bottom: 20px;
      color: rgba(255, 255, 255, 0.9);
    }
    
    .settings-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
    }
    
    .actions-section {
      display: flex;
      gap: 16px;
      justify-content: flex-end;
      background: none;
      padding-top: 40px;
    }
    
    /* Dark theme adjustments */
    [data-theme="light"] .settings-container h1 {
      color: #333;
    }
    
    [data-theme="light"] .settings-section {
      background: rgba(0, 0, 0, 0.05);
    }
    
    [data-theme="light"] .settings-section h2 {
      color: rgba(0, 0, 0, 0.9);
    }
  </style>
</div>
</content>
</invoke>