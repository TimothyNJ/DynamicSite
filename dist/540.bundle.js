"use strict";(self.webpackChunkdynamicsite=self.webpackChunkdynamicsite||[]).push([[540],{159:(e,t,i)=>{function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function s(e,t,i){return(t=a(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e){if("object"!=n(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,"string");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}i.r(t),i.d(t,{ThreeDrumWheelEngine:()=>h});var h=function(){return e=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=t,this.options=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){s(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({items:i.items||[],selectedIndex:i.selectedIndex||0,onChange:i.onChange||function(){},itemHeight:i.itemHeight||50,visibleItems:i.visibleItems||7},i),this.currentRotation=0,this.targetRotation=0,this.isDragging=!1,this.previousMouseY=0,this.velocity=0,this.selectedIndex=this.options.selectedIndex,this.init()},t=[{key:"init",value:function(){this.container.style.width="300px",this.container.style.height="350px",this.container.style.position="relative",this.container.style.overflow="hidden",this.container.style.cursor="grab",this.scene=new THREE.Scene,this.scene.background=new THREE.Color(15790320),this.camera=new THREE.PerspectiveCamera(40,300/350,.1,1e3),this.camera.position.z=200,this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(300,350),this.renderer.setPixelRatio(window.devicePixelRatio),this.container.appendChild(this.renderer.domElement);var e=new THREE.AmbientLight(16777215,.6);this.scene.add(e);var t=new THREE.DirectionalLight(16777215,.4);t.position.set(0,1,1),this.scene.add(t),this.createDrum(),this.createSelectionIndicator(),this.setupInteractions(),this.animate()}},{key:"createDrum",value:function(){var e=this.options.items.length,t=document.createElement("canvas");t.width=2048,t.height=1024;var i=t.getContext("2d");i.fillStyle="#ffffff",i.fillRect(0,0,t.width,t.height),i.fillStyle="#333333",i.font='bold 64px -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',i.textAlign="center",i.textBaseline="middle",this.options.items.forEach((function(n,o){var s=(o+.5)/e*t.width,r=t.height/2;i.fillText(String(n),s,r)}));var n=new THREE.CanvasTexture(t);n.needsUpdate=!0;var o=new THREE.CylinderGeometry(80,80,300,32,1,!0);o.rotateY(Math.PI);var s=new THREE.MeshPhongMaterial({map:n,side:THREE.DoubleSide,transparent:!0,opacity:.9});this.drum=new THREE.Mesh(o,s),this.scene.add(this.drum),this.anglePerItem=2*Math.PI/e}},{key:"createSelectionIndicator",value:function(){var e=new THREE.BoxGeometry(120,50,1),t=new THREE.MeshBasicMaterial({color:31487,transparent:!0,opacity:.3});this.selectionBox=new THREE.Mesh(e,t),this.selectionBox.position.z=81,this.scene.add(this.selectionBox)}},{key:"setupInteractions",value:function(){var e=this.renderer.domElement;e.addEventListener("mousedown",this.onMouseDown.bind(this)),e.addEventListener("mousemove",this.onMouseMove.bind(this)),e.addEventListener("mouseup",this.onMouseUp.bind(this)),e.addEventListener("mouseleave",this.onMouseUp.bind(this)),e.addEventListener("touchstart",this.onTouchStart.bind(this)),e.addEventListener("touchmove",this.onTouchMove.bind(this)),e.addEventListener("touchend",this.onTouchEnd.bind(this)),e.addEventListener("wheel",this.onWheel.bind(this))}},{key:"onMouseDown",value:function(e){this.isDragging=!0,this.previousMouseY=e.clientY,this.velocity=0,this.container.style.cursor="grabbing"}},{key:"onMouseMove",value:function(e){if(this.isDragging){var t=e.clientY-this.previousMouseY;this.velocity=.01*t,this.targetRotation+=this.velocity,this.previousMouseY=e.clientY}}},{key:"onMouseUp",value:function(){this.isDragging=!1,this.container.style.cursor="grab",this.applyMomentum()}},{key:"onTouchStart",value:function(e){1===e.touches.length&&(this.isDragging=!0,this.previousMouseY=e.touches[0].clientY,this.velocity=0)}},{key:"onTouchMove",value:function(e){if(this.isDragging&&1===e.touches.length){e.preventDefault();var t=e.touches[0].clientY-this.previousMouseY;this.velocity=.01*t,this.targetRotation+=this.velocity,this.previousMouseY=e.touches[0].clientY}}},{key:"onTouchEnd",value:function(){this.isDragging=!1,this.applyMomentum()}},{key:"onWheel",value:function(e){e.preventDefault(),this.velocity=.001*-e.deltaY,this.targetRotation+=10*this.velocity,this.snapToItem()}},{key:"applyMomentum",value:function(){var e=this,t=function(){Math.abs(e.velocity)>.001?(e.targetRotation+=e.velocity,e.velocity*=.95,requestAnimationFrame(t)):e.snapToItem()};t()}},{key:"snapToItem",value:function(){var e=Math.round(this.targetRotation/this.anglePerItem);this.targetRotation=e*this.anglePerItem;var t=this.options.items.length;this.selectedIndex=(-e%t+t)%t,this.options.onChange&&this.options.onChange(this.options.items[this.selectedIndex],this.selectedIndex)}},{key:"animate",value:function(){var e=this;requestAnimationFrame((function(){return e.animate()})),this.currentRotation+=.1*(this.targetRotation-this.currentRotation),this.drum.rotation.y=this.currentRotation,this.renderer.render(this.scene,this.camera)}},{key:"getSelectedValue",value:function(){return this.options.items[this.selectedIndex]}},{key:"setSelectedIndex",value:function(e){this.selectedIndex=e,this.targetRotation=-e*this.anglePerItem}},{key:"destroy",value:function(){var e=this.renderer.domElement;e.removeEventListener("mousedown",this.onMouseDown),e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("mouseup",this.onMouseUp),e.removeEventListener("touchstart",this.onTouchStart),e.removeEventListener("touchmove",this.onTouchMove),e.removeEventListener("touchend",this.onTouchEnd),e.removeEventListener("wheel",this.onWheel),this.renderer.dispose(),this.container.removeChild(this.renderer.domElement)}}],t&&r(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()}}]);